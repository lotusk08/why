!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Reasons=t()}(function(){return function n(r,o,s){function a(e,t){if(!o[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}i=o[e]={exports:{}},r[e][0].call(i.exports,function(t){return a(r[e][1][t]||t)},i,i.exports,n,r,o,s)}return o[e].exports}for(var h="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,i){let n=t("./Utils"),r=200;let o=16;function s(){return!(!this.to||!this.from)}function a(){return!this.isEdge()}function h(n){if(this.isEdge()){let i=!1;var t;return(this.paths.forEach(t=>{var e;e=n,t=t,Math.abs(Math.atan2(e.y-t.y1,e.x-t.x1)-Math.atan2(t.y2-e.y,t.x2-e.x))<.05&&(i=!0)}),this.center)?(t=5*this.type.length,i=!(n.x<this.center.x-t||n.x>this.center.x+t||n.y<this.center.y-10||n.y>this.center.y+10)):!1}return n.isNode&&n.isNode()?!(this.x2<n.x1||this.x1>n.x2||this.y1>n.y2||this.y2<n.y1):n.x>this.x1&&n.x<this.x2&&n.y>this.y1&&n.y<this.y2}function c(t){this.isNode()&&(this.x=t.x,this.y=t.y,l(this,t))}function u(){return this.isEdge()?{id:this.id,type:this.type,from:p(this.from),to:p(this.to)}:{id:this.id,text:this.text,x:parseInt(this.x1+this.width/2),y:parseInt(this.y1+this.height/2),lineType:this.lineType||"solid"}}function l(t,e){t.isNode()&&(t.x1=parseInt(e.x-t.width/2),t.x2=parseInt(e.x+t.width/2),t.y1=parseInt(e.y-t.height/2),t.y2=parseInt(e.y+t.height/2))}function p(t){return t instanceof Array?t.map(t=>t.id||t):t.id||t}e.exports={mixin:function(t){return t.isEdge=s,t.isNode=a,t.export=u,t.collides=h,t.move=c,(t=>(t.id=t.id||Math.random().toString(36).slice(-5),t.isEdge()?(t.from=n.flatten([t.from]).map(t=>t.id||t),t.to=t.to.id||t.to,t.type=t.type||"do",t.paths=[]):(t.text=t.text||"Argument",t.width=r,t.height=3.5*o,l(t,{x:t.x||0,y:t.y||0})),t))(t)},isEdge:s,isNode:a,save:u}},{"./Utils":2}],2:[function(t,e,i){e.exports={buildNode:function(t,e,i){var n,r=document.createElement(t);for(n in e)r[n]=e[n];for(n in i)r.setAttribute(n,i[n]);return r},intersection:function(t,e){return t.filter(function(t){return-1!==e.indexOf(t)})},unique:t("array-unique"),flatten:t("array-flatten"),diff:t("array-difference")}},{"array-difference":10,"array-flatten":11,"array-unique":12}],3:[function(t,e,i){arguments[4][1][0].apply(i,arguments)},{"./Utils":2,dup:1}],4:[function(t,e,i){let n=t("./utils"),r=t("./element");function o(t){t instanceof Array&&t.sort((t,e)=>t.to?1:-1).forEach(t=>this.add(t))}((e.exports=o).prototype=Object.create(Array.prototype)).add=function(e){if(r.mixin(e),e.isNode())this.push(e);else{if(this.hasDuplicate(e)||this.isFromEdge(e)||this.isToEdge(e))return!1;0<n.intersection(n.flatten(e.from.map(t=>this.children(t))),this.children(e.to)).map(t=>t.id).length?(n.flatten([e.from,e.to]).map(t=>t.id||t),this.edges().forEach(t=>{0<n.intersection(e.from,t.from).length&&this.remove(t),t.from.includes(e.to)&&(this.push(r.mixin({from:n.flatten([t.from,e.from]),to:t.to,type:t.type})),this.remove(t))})):this.push(e)}},o.prototype.remove=function(e){var t,i,n,r=this.indexOf(e);return-1<r&&(e.isNode()?(t=this.edges().filter(t=>t.to==e.id),n=(i=this.edges().filter(t=>t.from.includes(e.id))).filter(t=>1<t.from.length),this.splice(r,1),t.forEach(t=>{-1<this.indexOf(t)&&this.splice(this.indexOf(t),1)}),i.forEach(t=>{-1<this.indexOf(t)&&this.splice(this.indexOf(t),1)}),i.filter(t=>t.from instanceof Array).map(t=>{-1<t.from.indexOf(e)&&t.from.splice(t.from.indexOf(e),1),1===t.from.length&&(t.from=t.from[0])}),n.forEach(t=>{t.from.splice(t.from.indexOf(e.id),1),this.push(t)})):this.splice(r,1)),this},o.prototype.focus=function(e){var t=this.indexOf(e);return-1<t&&this.push(this.splice(t,1)[0]),this.forEach(function(t){t.focused=t===e}),e},o.prototype.undoFocus=function(){let e=this.pop();return this.unshift(e),this.forEach(function(t){t.focused=t===e}),e},o.prototype.unfocus=function(){return this.forEach(function(t){t.focused=!1}),this},o.prototype.last=function(){return this[this.length-1]},o.prototype.edges=function(){return this.filter(t=>t.from&&t.to)},o.prototype.nodes=function(){return this.filter(t=>!t.from||!t.to)},o.prototype.elements=function(){return this},o.prototype.parents=function(e){return e instanceof Object&&(e=e.id),n.flatten(this.edges().filter(t=>t.to==e).map(t=>t.from)).map(e=>this.find(t=>t.id==e))},o.prototype.children=function(e){return e instanceof Object&&(e=e.id),n.unique(this.edges().filter(t=>-1<n.flatten([t.from]).map(t=>t.id||t).indexOf(e)).map(t=>t.to).map(e=>this.find(t=>t==e||t.id==e)))},o.prototype.hasDuplicate=function(e){r.mixin(e);let i=!1;return e.isEdge()&&this.edges().forEach(t=>{e.to===t.to&&e.from.toString()===t.from.toString()&&(i=!0)}),i},o.prototype.isFromEdge=function(t){var i=!1;return t.from.forEach(e=>{this.edges().find(t=>t.id==e)&&(i=!0)}),i},o.prototype.isToEdge=function(e){var t=this.find(t=>t.id==e.to);if(t&&t.isEdge())return!0}},{"./element":3,"./utils":8}],5:[function(t,e,i){let n=t("./graph"),r=t("./ui"),o=t("./view");function s(t){this.DOM=document.querySelector(t),this.DOM&&(o.init(this),r.setup(this),r.addEventListeners(this))}(e.exports=s).prototype.render=function(t){return this.graph=new n(t),o.draw(this),o.resize(this),o.zero(this),o.draw(this),this},s.prototype.export=function(){return this.graph.map(t=>t.export())}},{"./graph":4,"./ui":7,"./view":9}],6:[function(t,e,i){let n=t("./mapper");e.exports={mapper:function(t){return new n(t)}}},{"./mapper":5}],7:[function(t,e,i){let v=t("./view"),h=t("./utils"),g=t("./graph"),x=t("keycode"),E=t("hammerjs");e.exports={addEventListeners:function(r){var t=new E(r.DOM,{});r.inline||t.get("pan").set({direction:E.DIRECTION_ALL});t.get("pinch").set({enable:!0}),t.add(new E.Swipe({pointers:3})),r.altered=!0,r.editMode=!1;r.dirty=!1;let i=null,n=null,o=null,s=null,e=!1,a=t=>{var{x:e,y:i}=r.offset,n=t.target.getClientRects()[0];return{x:parseInt((t.x||t.pageX)-parseInt(n.left))/r.scale-e,y:parseInt((t.y||t.pageY)-parseInt(n.top))/r.scale-i}};function h(t){let e=a(t);return{position:e,collision:r.graph.elements().find(t=>t.collides(e))}}function c(){b(r.History,r);var t=r.Future.pop();t&&(r.graph=new g(JSON.parse(t)),r.dirty=!0)}function u(){b(r.Future,r);var t=r.History.pop();t&&(r.graph=new g(JSON.parse(t)),r.dirty=!0)}t.on("doubletap",t=>{t=t.srcEvent;t.preventDefault(),(t=>{var{position:t,collision:e}=h(t);e?M(r,e):(r.graph.add({x:t.x,y:t.y}),i=r.graph.last(),r.graph.focus(i),r.altered=!0,M(r,i,!0)),w(r)})(t)}),t.on("swipe",t=>{t.direction&E.DIRECTION_HORIZONTAL&&(r._isSwipping=!0,(t.direction===E.DIRECTION_LEFT?u:c)(),setTimeout(()=>{r._isSwipping=!1},250))}),t.on("panstart",function(t){var t=t.srcEvent,e=h(t).collision;r._isSwipping||(e?p(t):r._startPan={...r.offset})});function l(t){var e=t.srcEvent,i=h(e).collision;if(i)return d(e);n||r._isSwipping||(r.offset={x:r._startPan.x+t.deltaX/r.scale,y:r._startPan.y+t.deltaY/r.scale},r.dirty=!0,v.zero(r),w(r))}t.on("panmove",l);let p=t=>{var{position:t,collision:e}=h(t);n||(e&&(i=e,r.graph.focus(i),r.dirty=!0,o=t,s={x:i.x1+i.width/2-t.x,y:i.y1+i.height/2-t.y},n=i),w(r))},d=(r.DOM.addEventListener("mousedown",p),t=>{window.currentMapper=r;let e=a(t);r.graph.forEach(t=>{t.collides(e)?(t.hovering||(r.dirty=!0),t.hovering=!0):(t.hovering&&(r.dirty=!0),t.hovering=!1)}),n&&(t=a(t),n.move({x:t.x+s.x,y:t.y+s.y}),r.dirty=!0),w(r)}),f=(r.DOM.addEventListener("mousemove",d),t=>{var e,t=h(t).collision;n?((e=r.graph.nodes().find(t=>n.collides(t)&&n.id!==t.id))&&(r.graph.add({from:n,to:e}),n.move(o)),r.altered=!0,n=null):t||(i=null,r.graph.unfocus(),r.dirty=!0),w(r)}),y=(r.DOM.addEventListener("mouseup",f),r.DOM.addEventListener("touchend",f),window.addEventListener("click",t=>{r.editMode&&"reason-overlay"===t.target.id&&D(r)}),window.addEventListener("keydown",t=>{window.currentMapper===r&&(r.editMode?(x.isEventKey(t,"Escape")&&D(r),x.isEventKey(t,"Enter")&&O(r)):(A(t)&&(e=!0),!A(t)&&x.isEventKey(t,"tab")&&(t.preventDefault(),t.shiftKey?r.graph.undoFocus():(i=r.graph[0],r.graph.focus(i)),console.log(r.graph.map(t=>t.id)),r.dirty=!0),e&&x.isEventKey(t,"z")&&(t.preventDefault(),u()),e&&x.isEventKey(t,"y")&&(t.preventDefault(),c()),i&&x.isEventKey(t,"Enter")&&M(r,i),(x.isEventKey(t,"Delete")||x.isEventKey(t,"Backspace"))&&("INPUT"!==document.activeElement.tagName&&t.preventDefault(),i)&&T(r,i)),w(r))}),window.addEventListener("keyup",t=>{A(t)&&(e=!1)}),window.addEventListener("resize",t=>{r.dirty=!0,v.resize(r),v.zero(r),w(r)}),t=>{t.target.id===r.DOM.firstElementChild.id||"wheel"===t.type&&t.target.id===r.DOM.id?(t.preventDefault(),r.dirty=!0,v.setScale(r,t.deltaY),v.zero(r),w(r)):r.inline&&!t.metaKey&&console.log("Please hold CMD while scrolling to zoom")});window.addEventListener("wheel",y,{passive:!1});let m=1;t.on("pinch",t=>{var e;r._isSwipping||(r.inline&&l(t),t.preventDefault(),e=t.scale-m,r.dirty=!0,v.setScale(r,1e3*e,!0),v.zero(r),w(r),m=t.scale)}),t.on("pinchend",()=>{m=1})},setup:function(t){(()=>{var t;document.head.querySelector("style[data-reasons-shared]")||((t=h.buildNode("style",void 0,{"data-reasons-shared":!0})).innerHTML=`
      body.modal {
        overflow-y: hidden;
      }
      #reason-overlay {
        font-size: 18px;
        position: fixed;
        top: 0; left: 0; right: 0;
        height: 100vh;
        background: rgba(0,0,0,0.75);
        touch-action: none;
      }
      #edit-reason-input {
        font-size: 18px;
        padding: 1rem 1rem 0 1rem;
        margin-top: 10vh;
        box-sizing: border-box;
      }
      #reason-overlay__wrapper {
        margin: auto;
        margin-top: 10vh;
        width:50%;
        padding: 1rem;
        flex-direction: column;
        display: flex;
      }
      #reasons-overlay-toolbar {
        margin: 0.75rem -0.5rem;
      }
      .reason-overlay__button {
        font-size: inherit;
        background-color: white;
        padding: 0.5rem 1rem;
        border: 1px solid grey;
        border-radius: 4px;
        margin: 0 0.5rem;
      }
      [data-reasons-layout="inline"] {
        touch-action: pinch-zoom;
      }
      .show-touch, .show-pointer {
        display: none;
      }
    `,document.head.appendChild(t))})();var e=h.buildNode("style");e.innerHTML=`
    #${t.DOM.id} {
      min-height: 100px;
    }
  `,document.head.appendChild(e),v.resize(t),t.History=[],t.Future=[]}};let n;function T(t,e){t.graph.remove(e),t.dirty=!0}function w(e){(e.altered||e.dirty)&&(n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(function(){var t;((t=e).altered||t.dirty)&&(t.altered&&(b(t.History,t),t.Future.length=0),v.draw(t),t.altered=!1,t.dirty=!1)}))}function b(t,e){var i=0==t.length?JSON.stringify([]):t[t.length-1],n=JSON.stringify(e.graph.map(function(t){return t.export(e.offset)}));n!==i&&t.push(n)}function c(t,e,i){e.lineType=i,t.altered=!0,w(t)}function u(t){var e=t.name,t=(delete t.name,h.buildNode("button",t,{class:"reason-overlay__button"}));return t.innerHTML=e,t}function M(t,e,i=!1){t.editMode=!0;var n,r,o=h.buildNode("div",{id:"reason-overlay"}),s=h.buildNode("div",{id:"reason-overlay__wrapper"}),a=h.buildNode("textarea",{id:"edit-reason-input",value:e.text||e.type});a.setAttribute("data-element",e.id),o.appendChild(s),s.appendChild(a),s.appendChild((n=t,r=e,(s=h.buildNode("div",{id:"reasons-overlay-toolbar"})).setAttribute("style","display: flex; flex-direction: row;"),s.appendChild(h.buildNode("div",{style:"flex-grow: 1;"})),s.appendChild(u({name:"Premise",onclick:()=>c(n,r,"solid")})),s.appendChild(u({name:"Objection",onclick:()=>c(n,r,"dashed")})),s.appendChild(u({name:"Supprimer",onclick:()=>{confirm("Do you really want to delete this item?")&&(T(n,r),D(n),w(n))}})),s.appendChild(u({name:"OK",onclick:()=>{O(n),w(n)}})),s)),document.body.appendChild(o),document.body.classList.add("modal"),i&&(a.select(),a.setSelectionRange(0,a.value.length)),a.scrollIntoView()}function O(t){let e=document.querySelector("#edit-reason-input");var i=t.graph.elements().find(t=>t.id==e.getAttribute("data-element"));i.isNode()?i.text=e.value:i.type=e.value,D(t)}function D(t){t.editMode=!1,t.altered=!0,document.querySelector("#reason-overlay").remove(),document.body.classList.remove("modal")}function A(t){return!!(t.metaKey||x.isEventKey(t,"Alt")||x.isEventKey(t,"Meta")||x.isEventKey(t,"Command")||x.isEventKey(t,"Control")||x.isEventKey(t,"Win")||x.isEventKey(t,"ControlLeft")||x.isEventKey(t,"ControlRight"))}},{"./graph":4,"./utils":8,"./view":9,hammerjs:13,keycode:14}],8:[function(t,e,i){arguments[4][2][0].apply(i,arguments)},{"array-difference":10,"array-flatten":11,"array-unique":12,dup:2}],9:[function(t,e,i){t("./Element");let p=t("./utils"),d=200,f=10,y=16,m=4,v="81,36,122",g="0,0,0",n=1,x={};function r(t){t.DOM.width=t.DOM.clientWidth-t.DOM.clientLeft,t.DOM.height=t.DOM.clientHeight-t.DOM.clientTop;var e=t.DOM.querySelector("canvas");e.width=t.DOM.width*n,e.height=t.DOM.height*n,t.DOM.style.overflow="hidden",e.style["transform-origin"]="top left",e.style.transform="scale("+1/n+")",t.context.scale(n*t.scale,n*t.scale)}e.exports={init:function(t){n=window.devicePixelRatio||1,t.scale=1,t.offset={x:0,y:0},t.inline="inline"==t.DOM.getAttribute("data-reasons-layout");var e=t.DOM.getBoundingClientRect(),e=p.buildNode("canvas",{id:"reasons-"+t.DOM.id},{width:e.width,height:e.height||window.innerHeight});t.context=e.getContext("2d",{alpha:!0}),t.DOM.style["min-height"]="100px",t.DOM.style["min-width"]="100px",t.DOM.appendChild(e),r(t)},draw:function(l){var t,e;e=(t=l).DOM.getBoundingClientRect(),t.context.clearRect(0,0,e.width/t.scale,e.height/t.scale),(x=l.graph).edges().forEach(a=>{{var[a,{context:s,offset:h}]=[a,l];{var c=a;let e=p.flatten([c.from,c.to]),i=x.filter(t=>e.includes(t.id)),t=i.map(t=>({x:t.x1+t.width/2,y:t.y1+t.height/2})),n=t.map(t=>t.x),r=t.map(t=>t.y),o=(c.center={x:Math.max(...n)-(Math.max(...n)-Math.min(...n))/2,y:Math.max(...r)-(Math.max(...r)-Math.min(...r))/2},c.paths=c.from.map(e=>{var t=i.find(t=>t.id==e);return{x1:t.x1+(t.x2-t.x1)/2,y1:t.y1+(t.y2-t.y1)/2,x2:c.center.x,y2:c.center.y}}),i.find(t=>t.id==c.to)),s=((t,e,i)=>{let n=e.x1+e.width/2,r=e.y1+e.height/2,o=Math.atan2(t.y-r,n-t.x),s=Math.abs(Math.cos(o)),a=Math.abs(Math.sin(o)),h=e.width/2*a<=e.height/2*s?e.width/2/s:e.height/2/a;return{x:(h+=i||0)*Math.cos(o),y:h*Math.sin(o)}})(c.center,o,5);c.paths.push({x1:c.center.x,y1:c.center.y,x2:o.x1+(o.x2-o.x1)/2-s.x,y2:o.y1+(o.y2-o.y1)/2+s.y})}let e=h.x,i=h.y,t=a.hovering?v:g,n=a.focused?.9:a.hovering?.75:.5,r=(s.strokeStyle="rgba("+t+","+n+")",s.lineWidth=4,p.flatten([a.from])),o=x.filter(t=>r.includes(t.id));"dashed"==o[0].lineType&&(s.setLineDash([10,10]),s.strokeStyle="rgba(255,0,0,1)","do"==a.type)&&(a.type="objection !"),s.beginPath(),a.paths.forEach(t=>{s.moveTo(t.x1+e,t.y1+i),s.lineTo(t.x2+e,t.y2+i)});var u=(t=>{var e=Math.atan2(t.y1-t.y2,t.x1-t.x2);return{x1:t.x2+10*Math.cos(e+.5),y1:t.y2+10*Math.sin(e+.5),x2:t.x2+10*Math.cos(e-.5),y2:t.y2+10*Math.sin(e-.5)}})(h=a.paths[a.paths.length-1]),h=(s.lineTo(u.x1+e,u.y1+i),s.moveTo(h.x2+e,h.y2+i),s.lineTo(u.x2+e,u.y2+i),s.stroke(),s.setLineDash([]),s.measureText(a.type).width+f);s.clearRect(a.center.x+e-h/2,a.center.y+i-15,h,25),s.fillStyle="rgba("+t+",0.8)",s.font="14px sans-serif",s.textAlign="center",s.fillText(a.type,a.center.x+e,a.center.y+i),a.intersection&&s.fillRect(a.intersection.x+e,a.intersection.y+i,10,10)}}),x.nodes().forEach(t=>{{var[o,{context:s,offset:t}]=[t,l],e=(s.font=y+"px sans-serif",((t,e)=>{let i=t.split(" "),n=[],r="";return i.forEach(t=>{e.measureText(r+" "+t).width<d-2*f?r+=" "+t:(n.push(r),r=t)}),n.push(r),n})(o.text,s)),a=o.hovering?v:g,h=o.focused?.9:o.hovering?.75:.5,c=t.x,t=t.y,u=(o.height=e.length*y*1.22+y*(1<e.length?2:1.75),o);u.x2=u.x1+u.width,u.y2=u.y1+u.height,s.clearRect(o.x1+c,o.y1+t,o.width,o.height),s.strokeStyle="rgba("+a+","+h+")",s.lineJoin="round",s.lineWidth=m,"dashed"==o.lineType&&(s.lineWidth*=.75,s.strokeStyle="rgba(255,0,0,1)"),s.strokeRect(o.x1+m/2+c,o.y1+m/2+t,o.width-m,o.height-m),s.setLineDash([]),s.fillStyle="rgba("+a+",0.8)",s.textAlign="center";let i=1.25*y,n=o.x1+c+o.width/2,r=o.y1+t+2*m;e.forEach((t,e)=>{s.fillText(t,n,r+(e+1)*i,o.width)})}})},zero:function(t){var e=t.graph.nodes().map(t=>({x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2})).reduce((t,e)=>({x1:Math.min(t.x1,e.x1),x2:Math.max(t.x2,e.x2),y1:Math.min(t.y1,e.y1),y2:Math.max(t.y2,e.y2)}));let i={x:(t.DOM.clientWidth-t.DOM.clientLeft)/2/t.scale+t.DOM.clientLeft-((e.x2-e.x1)/2+e.x1),y:(t.DOM.clientHeight-t.DOM.clientTop)/2/t.scale+t.DOM.clientTop-((e.y2-e.y1)/2+e.y1)};t.graph.nodes().forEach(t=>{t.x1+=i.x,t.x2+=i.x,t.y1+=i.y,t.y2+=i.y})},setScale:function(t,e,i=!0){i=i?1+e/1e3:e,(e=t.scale*i)<10&&.4<e&&(t.scale=t.scale*i,t.context.scale(i,i))},resize:r}},{"./Element":1,"./utils":8}],10:[function(t,e,i){function n(t,e){for(var i=[],n=0,r=t.length;n<r;++n)-1===o.call(e,t[n])&&i.push(t[n]);for(n=0,r=e.length;n<r;++n)-1===o.call(t,e[n])&&i.push(e[n]);return i}var r,o;r=this,o=Array.prototype.indexOf||function(t){var e,i;if(null==this)throw new TypeError("indexOf called on null or undefined");for(e=0,i=this.length;e<i;++e)if(this[e]===t)return e;return-1},"object"==typeof e&&e.exports?e.exports=n:r.difference=n},{}],11:[function(t,e,i){function n(t){return function t(e,i){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t(r,i):i.push(r)}return i}(t,[])}function r(t,e){if("number"!=typeof e)throw new TypeError("Expected the depth to be a number");return function t(e,i,n){n--;for(var r=0;r<e.length;r++){var o=e[r];-1<n&&Array.isArray(o)?t(o,i,n):i.push(o)}return i}(t,[],e)}e.exports=function(t){if(Array.isArray(t))return n(t);throw new TypeError("Expected value to be an array")},e.exports.from=n,e.exports.depth=function(t,e){if(Array.isArray(t))return r(t,e);throw new TypeError("Expected value to be an array")},e.exports.fromDepth=r},{}],12:[function(t,r,e){r.exports=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var e=t.length,i=-1;i++<e;)for(var n=i+1;n<t.length;++n)t[i]===t[n]&&t.splice(n--,1);return t},r.exports.immutable=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var e=t.length,i=new Array(e),n=0;n<e;n++)i[n]=t[n];return r.exports(i)}},{}],13:[function(R,k,q){var r=window,F=document,u=void 0,Y=["","webkit","Moz","MS","ms","o"],X=F.createElement("div"),H="function",o=Math.round,l=Math.abs,W=Date.now;function K(t,e,i){return setTimeout(B(t,i),e)}function i(t,e,i){return Array.isArray(t)&&(s(t,i[e],i),1)}function s(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==u)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function j(i,t,e){var n="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),t=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=r.console&&(r.console.warn||r.console.log);return e&&e.call(r.console,n,t),i.apply(this,arguments)}}var a="function"!=typeof Object.assign?function(t){if(t===u||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==u&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign,U=j(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)i&&t[n[r]]!==u||(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),V=j(function(t,e){return U(t,e,!0)},"merge","Use `assign`.");function t(t,e,i){var e=e.prototype,n=t.prototype=Object.create(e);n.constructor=t,n._super=e,i&&a(n,i)}function B(t,e){return function(){return t.apply(e,arguments)}}function J(t,e){return typeof t==H?t.apply(e&&e[0]||u,e):t}function G(t,e){return t===u?e:t}function e(e,t,i){s(c(t),function(t){e.addEventListener(t,i,!1)})}function n(e,t,i){s(c(t),function(t){e.removeEventListener(t,i,!1)})}function Z(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function h(t,e){return-1<t.indexOf(e)}function c(t){return t.trim().split(/\s+/g)}function p(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function d(t){return Array.prototype.slice.call(t,0)}function $(t,i,e){for(var n=[],r=[],o=0;o<t.length;){var s=i?t[o][i]:t[o];p(r,s)<0&&n.push(t[o]),r[o]=s,o++}return n=e?i?n.sort(function(t,e){return t[i]>e[i]}):n.sort():n}function f(t,e){for(var i,n=e[0].toUpperCase()+e.slice(1),r=0;r<Y.length;){if((i=(i=Y[r])?i+n:e)in t)return i;r++}return u}var Q=1;function tt(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||r}var et="ontouchstart"in r,it=f(r,"PointerEvent")!==u,nt=et&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),y="touch",rt="mouse",ot=25,m=1,v=4,g=8,x=1,E=2,T=4,w=8,b=16,M=E|T,O=w|b,st=M|O,at=["x","y"],D=["clientX","clientY"];function A(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){J(e.options.enable,[e])&&i.handler(t)},this.init()}function ht(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&m&&n-r==0,n=e&(v|g)&&n-r==0,r=(i.isFirst=!!o,i.isFinal=!!n,o&&(t.session={}),i.eventType=e,t),n=i,o=r.session,e=n.pointers,s=e.length,s=(o.firstInput||(o.firstInput=ct(n)),1<s&&!o.firstMultiple?o.firstMultiple=ct(n):1===s&&(o.firstMultiple=!1),o.firstInput),a=o.firstMultiple,h=(a||s).center,c=n.center=ut(e),s=(n.timeStamp=W(),n.deltaTime=n.timeStamp-s.timeStamp,n.angle=dt(h,c),n.distance=C(h,c),((t,e)=>{var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==m&&o.eventType!==v||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)})(o,n),n.offsetDirection=pt(n.deltaX,n.deltaY),lt(n.deltaTime,n.deltaX,n.deltaY)),h=(n.overallVelocityX=s.x,n.overallVelocityY=s.y,n.overallVelocity=l(s.x)>l(s.y)?s.x:s.y,n.scale=a?((t,e)=>C(e[0],e[1],D)/C(t[0],t[1],D))(a.pointers,e):1,n.rotation=a?((t,e)=>dt(e[1],e[0],D)+dt(t[1],t[0],D))(a.pointers,e):0,n.maxPointers=!o.prevInput||n.pointers.length>o.prevInput.maxPointers?n.pointers.length:o.prevInput.maxPointers,((t,e)=>{var i,n,r,o,s,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;e.eventType!=g&&(ot<h||a.velocity===u)?(o=e.deltaX-a.deltaX,s=e.deltaY-a.deltaY,h=lt(h,o,s),n=h.x,r=h.y,i=l(h.x)>l(h.y)?h.x:h.y,o=pt(o,s),t.lastInterval=e):(i=a.velocity,n=a.velocityX,r=a.velocityY,o=a.direction),e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o})(o,n),r.element);Z(n.srcEvent.target,h)&&(h=n.srcEvent.target),n.target=h,t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ct(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:o(t.pointers[i].clientX),clientY:o(t.pointers[i].clientY)},i++;return{timeStamp:W(),pointers:e,center:ut(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ut(t){var e=t.length;if(1===e)return{x:o(t[0].clientX),y:o(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:o(i/e),y:o(n/e)}}function lt(t,e,i){return{x:e/t||0,y:i/t||0}}function pt(t,e){return t===e?x:l(t)>=l(e)?t<0?E:T:e<0?w:b}function C(t,e,i){var n=e[(i=i||at)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return Math.sqrt(n*n+e*e)}function dt(t,e,i){var n=e[(i=i||at)[0]]-t[i[0]],e=e[i[1]]-t[i[1]];return 180*Math.atan2(e,n)/Math.PI}A.prototype={handler:function(){},init:function(){this.evEl&&e(this.element,this.evEl,this.domHandler),this.evTarget&&e(this.target,this.evTarget,this.domHandler),this.evWin&&e(tt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(tt(this.element),this.evWin,this.domHandler)}};var ft={mousedown:m,mousemove:2,mouseup:v},yt="mousedown",mt="mousemove mouseup";function S(){this.evEl=yt,this.evWin=mt,this.pressed=!1,A.apply(this,arguments)}t(S,A,{handler:function(t){var e=ft[t.type];e&m&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=v),this.pressed&&(e&v&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:rt,srcEvent:t}))}});var vt={pointerdown:m,pointermove:2,pointerup:v,pointercancel:g,pointerout:g},gt={2:y,3:"pen",4:rt,5:"kinect"},xt="pointerdown",Et="pointermove pointerup pointercancel";function Tt(){this.evEl=xt,this.evWin=Et,A.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(xt="MSPointerDown",Et="MSPointerMove MSPointerUp MSPointerCancel"),t(Tt,A,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),n=vt[n],r=gt[t.pointerType]||t.pointerType,o=r==y,s=p(e,t.pointerId,"pointerId");n&m&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):n&(v|g)&&(i=!0),s<0||(e[s]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(s,1))}});var wt={touchstart:m,touchmove:2,touchend:v,touchcancel:g};function bt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,A.apply(this,arguments)}t(bt,A,{handler:function(t){var e,i=wt[t.type];i===m&&(this.started=!0),this.started&&(e=function(t,e){var i=d(t.touches),t=d(t.changedTouches);e&(v|g)&&(i=$(i.concat(t),"identifier",!0));return[i,t]}.call(this,t,i),i&(v|g)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:y,srcEvent:t}))}});var Mt={touchstart:m,touchmove:2,touchend:v,touchcancel:g},Ot="touchstart touchmove touchend touchcancel";function Dt(){this.evTarget=Ot,this.targetIds={},A.apply(this,arguments)}t(Dt,A,{handler:function(t){var e=Mt[t.type],i=function(t,e){var i=d(t.touches),n=this.targetIds;if(e&(2|m)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=d(t.changedTouches),a=[],h=this.target;if(o=i.filter(function(t){return Z(t.target,h)}),e===m)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;r=0;for(;r<s.length;)n[s[r].identifier]&&a.push(s[r]),e&(v|g)&&delete n[s[r].identifier],r++;if(a.length)return[$(o.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:y,srcEvent:t})}});var At=2500;function Ct(){A.apply(this,arguments);var t=B(this.handler,this);this.touch=new Dt(this.manager,t),this.mouse=new S(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function St(t){var e,i,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},this.lastTouches.push(e),i=this.lastTouches,setTimeout(function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)},At))}t(Ct,A,{handler:function(t,e,i){var n=i.pointerType==y,r=i.pointerType==rt;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(t,e){t&m?(this.primaryTouch=e.changedPointers[0].identifier,St.call(this,e)):t&(v|g)&&St.call(this,e)}.call(this,e,i);else if(r&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),r=Math.abs(i-r.y);if(o<=25&&r<=25)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It,_t,Nt=f(X.style,"touchAction"),Lt=Nt!==u,Pt="compute",zt="manipulation",I="none",_="pan-x",N="pan-y",Rt=Lt&&(It={},_t=r.CSS&&r.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){It[t]=!_t||r.CSS.supports("touch-action",t)}),It);function kt(t,e){this.manager=t,this.set(e)}function L(t){this.options=a({},this.defaults,t||{}),this.id=Q++,this.manager=null,this.options.enable=G(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function qt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Ft(t){return t==b?"down":t==w?"up":t==E?"left":t==T?"right":""}function Yt(t,e){e=e.manager;return e?e.get(t):t}function P(){L.apply(this,arguments)}function Xt(){P.apply(this,arguments),this.pX=null,this.pY=null}function Ht(){P.apply(this,arguments)}function Wt(){L.apply(this,arguments),this._timer=null,this._input=null}function Kt(){P.apply(this,arguments)}function jt(){P.apply(this,arguments)}function Ut(){L.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function z(t,e){return(e=e||{}).recognizers=G(e.recognizers,z.defaults.preset),new Vt(t,e)}function Vt(t,e){this.options=a({},z.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(it?Tt:nt?Dt:et?Ct:S))(e,ht),this.touchAction=new kt(this,this.options.touchAction),Bt(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Bt(i,n){var r,o=i.element;o.style&&(s(i.options.cssProps,function(t,e){r=f(o.style,e),n?(i.oldCssProps[r]=o.style[r],o.style[r]=t):o.style[r]=i.oldCssProps[r]||""}),n||(i.oldCssProps={}))}kt.prototype={set:function(t){t==Pt&&(t=this.compute()),Lt&&this.manager.element.style&&Rt[t]&&(this.manager.element.style[Nt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,e,i=[],n=(s(this.manager.recognizers,function(t){J(t.options.enable,[t])&&(i=i.concat(t.getTouchAction()))}),i.join(" "));return h(n,I)||(t=h(n,_),e=h(n,N),t&&e)?I:t||e?t?_:N:h(n,zt)?zt:"auto"},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=h(n,I)&&!Rt[I],o=h(n,N)&&!Rt[N],n=h(n,_)&&!Rt[_];if(r)if(1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return n&&o?void 0:r||o&&i&M||n&&i&O?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},L.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){var e;return i(t,"recognizeWith",this)||(e=this.simultaneous)[(t=Yt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=Yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){var e;return i(t,"requireFailure",this)||-1===p(e=this.requireFail,t=Yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){return i(t,"dropRequireFailure",this)||(t=Yt(t,this),-1<(t=p(this.requireFail,t))&&this.requireFail.splice(t,1)),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,t=this.state;function n(t){i.manager.emit(t,e)}t<8&&n(i.options.event+qt(t)),n(i.options.event),e.additionalEvent&&n(e.additionalEvent),8<=t&&n(i.options.event+qt(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){t=a({},t);J(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)):(this.reset(),this.state=32)},process:function(t){},getTouchAction:function(){},reset:function(){}},t(P,L,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,t=this.attrTest(t);return n&&(i&g||!t)?16|e:n||t?i&v?8|e:2&e?4|e:2:32}}),t(Xt,P,{defaults:{event:"pan",threshold:10,pointers:1,direction:st},getTouchAction:function(){var t=this.options.direction,e=[];return t&M&&e.push(N),t&O&&e.push(_),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(n=e.direction&M?(r=0===o?x:o<0?E:T,i=o!=this.pX,Math.abs(t.deltaX)):(r=0===s?x:s<0?w:b,i=s!=this.pY,Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return P.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ft(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(Ht,P,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[I]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(Wt,L,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=e.time<t.deltaTime;if(this._input=t,!n||!i||t.eventType&(v|g)&&!r)this.reset();else if(t.eventType&m)this.reset(),this._timer=K(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&v)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&v?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=W(),this.manager.emit(this.options.event,this._input)))}}),t(Kt,P,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[I]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),t(jt,P,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:M|O,pointers:1},getTouchAction:function(){return Xt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(M|O)?e=t.overallVelocity:i&M?e=t.overallVelocityX:i&O&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&t.eventType&v},emit:function(t){var e=Ft(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),t(Ut,L,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[zt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&m&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=v)return this.failTimeout();n=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||C(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&n?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=K(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=K(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),z.VERSION="2.0.7",z.defaults={domEvents:!1,touchAction:Pt,enable:!0,inputTarget:null,inputClass:null,preset:[[Kt,{enable:!1}],[Ht,{enable:!1},["rotate"]],[jt,{direction:M}],[Xt,{direction:M},["swipe"]],[Ut],[Ut,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Vt.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);for(var i,n=this.recognizers,r=e.curRecognizer,o=((!r||8&r.state)&&(r=e.curRecognizer=null),0);o<n.length;)i=n[o],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(r=e.curRecognizer=i),o++}},get:function(t){if(t instanceof L)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){var e;return i(t,"add",this)?this:((e=this.get(t.options.event))&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t)},remove:function(t){var e;return i(t,"remove",this)||(t=this.get(t))&&-1!==(t=p(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update()),this},on:function(t,e){var i;if(t!==u&&e!==u)return i=this.handlers,s(c(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i;if(t!==u)return i=this.handlers,s(c(t),function(t){e?i[t]&&i[t].splice(p(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&(i=t,n=e,(r=F.createEvent("Event")).initEvent(i,!0,!0),(r.gesture=n).target.dispatchEvent(r));var i,n,r,o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},destroy:function(){this.element&&Bt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(z,{INPUT_START:m,INPUT_MOVE:2,INPUT_END:v,INPUT_CANCEL:g,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:x,DIRECTION_LEFT:E,DIRECTION_RIGHT:T,DIRECTION_UP:w,DIRECTION_DOWN:b,DIRECTION_HORIZONTAL:M,DIRECTION_VERTICAL:O,DIRECTION_ALL:st,Manager:Vt,Input:A,TouchAction:kt,TouchInput:Dt,MouseInput:S,PointerEventInput:Tt,TouchMouseInput:Ct,SingleTouchInput:bt,Recognizer:L,AttrRecognizer:P,Tap:Ut,Pan:Xt,Swipe:jt,Pinch:Ht,Rotate:Kt,Press:Wt,on:e,off:n,each:s,merge:V,extend:U,assign:a,inherit:t,bindFn:B,prefixed:f}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=z,void 0!==k&&k.exports?k.exports=z:r.Hammer=z},{}],14:[function(t,e,i){function n(t){var e;return"number"==typeof(t=t&&"object"==typeof t&&(e=t.which||t.keyCode||t.charCode)?e:t)?h[t]:(e=String(t),r[e.toLowerCase()]||o[e.toLowerCase()]||(1===e.length?e.charCodeAt(0):void 0))}n.isEventKey=function(t,e){if(t&&"object"==typeof t){t=t.which||t.keyCode||t.charCode;if(null!=t)if("string"==typeof e){var i=r[e.toLowerCase()];if(i)return i===t;if(i=o[e.toLowerCase()])return i===t}else if("number"==typeof e)return e===t;return!1}};for(var r=(i=e.exports=n).code=i.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=i.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var a,h=i.names=i.title={};for(s in r)h[r[s]]=s;for(a in o)r[a]=o[a]},{}]},{},[6])(6)});